let pokemonRepository=function(){let e=[],t=$(".pokemon-list");function n(){return e}function o(t){e.push(t)}function i(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=[];for(let n=0;n<t.types.length;n++)e.types.push(t.types[n].type.name);e.abilities=[];for(let o=0;o<t.abilities.length;o++)e.abilities.push(t.abilities[o].ability.name)}).catch(function(e){console.error(e)})}function l(e){i(e).then(function(){var t;let n,o,i,l,a,s,p;t=e,n=$(".modal-body"),o=$(".modal-title"),n.empty(),o.text(t.name),i=$('<img class="pokemon-img" src="'+t.imageUrl+'" />'),l=$("<p>Height: "+t.height+"</p>"),a=$("<p>Weight: "+t.weight+"</p>"),s=$("<p>Types: "+t.types+"</p>"),p=$("<p>Abilities: "+t.abilities+"</p>"),n.append(i),n.append(l),n.append(a),n.append(s),n.append(p)})}return{add:o,getAll:n,addListItem:function e(n){let o=$('<li class="list-group-item"></li>'),i=$('<button class="pokemon-button btn-primary btn-lg" data-target="#pokemon-modal" data-toggle="modal">'+n.name+"</button>");o.append(i),t.append(o),i.on("click",function(){l(n)})},showDetails:l,loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){o({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:i}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});let filter=document.querySelector("#searchBar"),noResults=document.createElement("h3");noResults.innerText="No Pok\xe9mon found.",filter.addEventListener("input",()=>{let e=document.querySelector(".pokemon-list"),t=filter.value.toLowerCase();listItems=e.getElementsByTagName("li");let n=!1;for(let o=0;o<listItems.length;o++){let i=listItems[o].getElementsByTagName("button")[0];(i.textContent||i.innerText).toLowerCase().indexOf(t)>-1?(listItems[o].style.display="",n=!0):listItems[o].style.display="none"}n||e.appendChild(noResults),e.contains(noResults)&&n&&e.removeChild(noResults)});